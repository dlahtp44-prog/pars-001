<div class="card highlight">
  <h2>⚠️ 시스템 초기화</h2>

  <p class="small">
    이 작업은 <b>재고(inventory)</b>와 <b>이력(history)</b>을
    <span style="color:#ff6b6b;font-weight:800;">완전히 삭제</span>합니다.<br>
    되돌릴 수 없습니다.
  </p>

  <form id="resetForm">
    <label>확인 문구 입력</label>
    <input name="confirm" placeholder="RESET 입력" required>

    <label>작업자</label>
    <input name="operator" placeholder="관리자명" required>

    <button type="submit" style="background:#ff6b6b;border-color:#ff6b6b;">
      재고 + 이력 전체 리셋
    </button>
  </form>

  <pre id="resetOut"></pre>
</div>

<script>
document.getElementById("resetForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  if (!confirm("⚠️ 정말로 재고와 이력을 모두 삭제합니까?")) return;

  const fd = new FormData(e.target);
  const res = await fetch("/api/admin/reset-all", {
    method: "POST",
    body: fd
  });

  document.getElementById("resetOut").textContent = await res.text();
});
</script>
