<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="/static/app.css"/>
  <title>제품 선택</title>
</head>
<body>
<div class="container">
  <div class="card">
    <h2>제품 선택</h2>
    <p class="small">출발 로케이션: <b>{{ from_location }}</b></p>

    {% if rows|length == 0 %}
      <p>해당 로케이션에 재고가 없습니다.</p>
      <div style="margin-top:20px;">
        <a href="/m/move/from" class="btn-link">뒤로 가기</a>
      </div>
    {% else %}
    <form method="post" action="/m/move/select/submit">
      <input type="hidden" name="from_location" value="{{ from_location }}">

      <table>
        <thead>
          <tr>
            <th>선택</th>
            <th>브랜드</th>
            <th>품번</th>
            <th>LOT</th>
            <th style="text-align:right">재고</th>
          </tr>
        </thead>
        <tbody>
        {% for r in rows %}
          <tr>
            <td>
              <input type="radio" name="inventory_id" value="{{ r.id }}" 
                     onclick="document.getElementsByName('qty_raw')[0].value='{{ r.qty }}'" required>
            </td>
            <td>{{ r.brand }}</td>
            <td>{{ r.item_code }}</td>
            <td>{{ r.lot or '-' }}</td>
            <td style="text-align:right"><b>{{ r.qty }}</b></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

      <div style="margin-top: 20px;">
        <label>이동 수량 (소수점 가능)</label>
        <input type="number" name="qty_raw" step="any" inputmode="decimal" placeholder="0.000" required>

        <label>작업자</label>
        <input name="operator" placeholder="성명을 입력하세요">

        <label>비고</label>
        <input name="note" placeholder="이동 사유 등">
      </div>

      <button type="submit" style="width:100%; height:50px; margin-top:10px;">다음 (도착지 스캔)</button>
      <a href="/m/move/from" style="display:block; text-align:center; margin-top:15px; color:#666;">취소</a>
    </form>
    {% endif %}
  </div>
</div>
</body>
</html>
